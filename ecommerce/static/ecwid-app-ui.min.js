(function(){function b(b){isActive=b.parentNode.classList.contains("opened");a();isActive||(b.parentNode.classList.add("opened"),isActive=!0)}function a(){for(var b=0;b<btnDropdowns.length;b++)btnDropdowns[b].parentNode.classList.contains("opened")&&btnDropdowns[b].parentNode.classList.remove("opened")}btnDropdowns=document.querySelectorAll(".btn-dropdown");for(var d=0;d<btnDropdowns.length;d++)btnDropdowns[d].addEventListener?btnDropdowns[d].addEventListener("click",function(a){b(this);a.stopPropagation()}):
btnDropdowns[d].attachEvent("onclick",function(a){b(this);a.stopPropagation()});document.addEventListener?document.addEventListener("click",function(b){b.target.classList.contains("btn-dropdown")||a()}):document.attachEvent("click",function(b){b.target.classList.contains("btn-dropdown")||a()})})();
function checkFieldChange(b){b.classList.contains("field__input")&&(0<b.value.length?b.parentNode.classList.contains("field--filled")||b.parentNode.classList.add("field--filled"):b.parentNode.classList.contains("field--filled")&&b.parentNode.classList.remove("field--filled"));b.classList.contains("field__select")&&(0<b.value.length?b.parentNode.classList.contains("field--filled")||b.parentNode.classList.add("field--filled"):b.parentNode.classList.contains("field--filled")&&b.parentNode.classList.remove("field--filled"))}
(function(){for(var b=document.querySelectorAll(".field__input, .field__select, .field__textarea"),a=0;a<b.length;a++){if(b[a].classList.contains("field__input")||b[a].classList.contains("field__select")||b[a].classList.contains("field__textarea"))0<b[a].value.length?b[a].parentNode.classList.add("field--filled"):b[a].parentNode.classList.remove("field--filled");b[a].addEventListener("focus",function(){checkFieldChange(this);this.parentNode.classList.contains("field--focus")||this.parentNode.classList.add("field--focus")},
!1);b[a].addEventListener("active",function(){checkFieldChange(this);this.parentNode.classList.contains("field--active")||this.parentNode.classList.add("field--active")},!1);b[a].addEventListener("blur",function(b){checkFieldChange(this);this.parentNode.classList.contains("field--focus")&&this.parentNode.classList.remove("field--focus");this.parentNode.classList.contains("field--active")&&this.parentNode.classList.remove("field--active")},!1);b[a].addEventListener("change",function(){this.value?this.parentNode.classList.add("field--filled"):
this.parentNode.classList.remove("field--filled")},!1);b[a].addEventListener("keyup",function(){checkFieldChange(this)},!1);b[a].addEventListener("paste",function(){checkFieldChange(this)},!1)}b=document.getElementsByClassName("field");for(a=0;a<b.length;a++)b[a].addEventListener("click",function(){for(var b=this.childNodes,a=0;a<b.length;a++)b[a].className&&(b[a].classList.contains("field__input")||b[a].classList.contains("field__select")||b[a].classList.contains("field__textarea"))&&b[a].focus()},
!1);b=document.getElementsByClassName("field-state--close");for(a=0;a<b.length;a++)b[a].addEventListener("click",function(){var b=this.parentNode;b.parentNode.classList.remove("has-error");for(var b=b.childNodes,a=0;a<b.length;a++)b[a].className&&(b[a].classList.contains("field__input")&&(b[a].value=""),b[a].classList.contains("field__textarea")&&(b[a].value=""),b[a].classList.contains("field__placeholder")&&(b[a].style.display=""))},!1)})();
(function(){function b(b){b.parentNode.classList.add("editable-data--edit")}for(var a=document.querySelectorAll(".editable-data__title"),d=0;d<a.length;d++)a[d].addEventListener?a[d].addEventListener("click",function(a){b(this);a.stopPropagation()}):a[d].attachEvent("onclick",function(a){b(this);a.stopPropagation()})})();
(function(){function b(b){b.parentNode.classList.contains("opened")?b.parentNode.classList.remove("opened"):b.parentNode.classList.add("opened")}for(var a=document.querySelectorAll(".dropdown-filter-panel__header"),d=0;d<a.length;d++)a[d].addEventListener?a[d].addEventListener("click",function(a){b(this);a.stopPropagation()}):a[d].attachEvent("onclick",function(a){b(this);a.stopPropagation()})})();
(function(){for(var b=document.querySelectorAll(".collapsible__header"),a=0;a<b.length;a++)b[a].addEventListener("click",function(b){this.parentNode.classList.contains("collapsible--opened")?this.parentNode.classList.remove("collapsible--opened"):this.parentNode.classList.add("collapsible--opened");b.stopPropagation()})})();
function DraggableArea(b,a){function d(){var b="item"+(p.length+1);p.push(b);return b}function r(v){var a=[];v.sort(function(b,a){return b.index-a.index});v.forEach(function(v,c){var h=document.createElement("div");h.className="draggable-item";h.innerHTML='<div class="draggable-item__inner">            <div class="draggable-item__body">                <div class="draggable-item__content"></div>                <div class="draggable-item__control">                    <span class="svg-icon-drag">                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="11" viewBox="0 0 24 11" fill-rule="evenodd" stroke-linecap="square" stroke="#99a9b7" focusable="false"><path d="M.4 1.5L23.6 1.5M.4 5.5L23.6 5.5M.4 9.5L23.6 9.5"></path></svg>                    </span>                </div>            </div>            <div class="draggable-item__placeholder">                <div class="draggable-item__placeholder-inner"></div>            </div>        </div>';
var g=v.key||d();h.setAttribute("data-key",g);h.querySelector(".draggable-item__content").innerHTML=v.content||"";b.appendChild(h);a.push(h)});return a}var p=[],n=[],e=[];a=a||{};var x=document.querySelector("."+a.scrollAreaClass)||window;a.render&&0!=a.items.length?(n=r(a.items),b.classList.add(".draggable-area")):n=b.querySelectorAll(".draggable-item");if(!n)return!1;for(var f=0;f<n.length;f++){var k="";n[f].hasAttribute("data-key")?k=n[f].getAttribute("data-key"):(k=d(),n[f].setAttribute("data-key",
k));k={key:k.toString(),prevIndex:f,nextIndex:-1,startIndex:f,initialX:0,initialY:0,element:n[f],controlElement:function(){return this.element.querySelector(".draggable-item__control")},bodyElement:function(){return this.element.querySelector(".draggable-item__body")}};e.push(k);k.controlElement().addEventListener("mousedown",function(b){return function(a){g(a,b)}}(k));k.controlElement().addEventListener("touchstart",function(b){return function(a){g(a,b)}}(k));k.controlElement().addEventListener("mouseover",
function(b){return function(a){B(a,b)}}(k));k.controlElement().addEventListener("mouseout",function(b){return function(a){h(a,b)}}(k))}var E=!1;try{var A=Object.defineProperty({},"passive",{get:function(){E=!0}});document.addEventListener("testPassive",null,A);document.removeEventListener("testPassive",null,A)}catch(y){}var l=function(b,a){return b.bodyElement().getBoundingClientRect().top+b.bodyElement().offsetHeight>=a.element.getBoundingClientRect().top+2*a.element.offsetHeight/3},c=function(b,
a){return b.bodyElement().getBoundingClientRect().top<=a.element.getBoundingClientRect().top+a.element.offsetHeight/3},q=function(b,a,h){var c=e.indexOf(b),g=e.indexOf(a),l=e[c];e[c]=e[g];e[g]=l;a.element.className+=" draggable-item--placing";setTimeout(function(){a.element.className=a.element.className.replace(" draggable-item--placing","")},400);l=b.element.parentNode;b=l.replaceChild(a.element,b.element);h?l.insertBefore(b,"undefined"!=typeof e[g+1]?e[g+1].element:null):l.insertBefore(b,e[c].element)},
z=function(b,a){b.element.className+=" draggable-item--animate";b.bodyElement().style.transform="translate(0px, "+a+"px)";setTimeout(function(){b.element.className=b.element.className.replace(" draggable-item--animate","");b.bodyElement().style.transform="translate(0, 0)"},50)},w=function(b,a,h,c,g){q(b,a,h);c=h?a.element.offsetHeight:-a.element.offsetHeight;b.bodyElement().style.transform="translate(0px, "+(g-c)+"px)";b.initialY+=c;z(a,h?b.element.offsetHeight:-b.element.offsetHeight)},t=function(b){b.preventDefault()},
u=function(h,c,g,l,f,k,e,d){var p=document.createEvent("HTMLEvents");p.initEvent(c,!1,!0);p.key=f;p.prevIndex=k;p.nextIndex=e;p.origEvt=d;p.item=l.element;var n=[];g.forEach(function(b,a){n.push({key:b.key,content:b.bodyElement().querySelector(".draggable-item__content").innerHTML})});p.items=n;h.dispatchEvent(p);a[c]&&a[c].call(b,p)},B=function(b,a){a.element.classList.contains("draggable-item--hovered")||(a.element.className+=" draggable-item--hovered")}.bind(k),h=function(b,a){a.element.className=
a.element.className.replace(" draggable-item--hovered","")}.bind(k),g=function(a,h){var g=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset,f=0,m=0,p=0,k=0,d=0,n=0,C=!1,B=!1,z,I;a.touches&&a.touches[0]?(h.initialX=a.touches[0].clientX,h.initialY=a.touches[0].clientY):(h.initialX=a.clientX,h.initialY=a.clientY);h.prevIndex=e.indexOf(h);h.element.className+=" draggable-item--dragged";var r=function(a){var g=window.innerHeight||document.documentElement.clientHeight;document.body.classList.add("disable-select");
a.touches&&a.touches[0]?(a.preventDefault(),a.stopPropagation(),a=a.touches[0].clientY):a=a.clientY;void 0!=a?I=a:a=I;var v=x===window?window.pageYOffset:0;h.edgeTop=h.bodyElement().getBoundingClientRect().top+v;h.edgeBottom=h.bodyElement().getBoundingClientRect().bottom+v;b.edgeTop=b.getBoundingClientRect().top+v;b.edgeBottom=b.getBoundingClientRect().bottom+v;h.edgeBottom>b.edgeBottom+10?(k=0<d?k:a,d=1):h.edgeTop<b.edgeTop-10?(p=0<d?p:a,d=2):d=0;n=h.bodyElement().getBoundingClientRect().bottom>
g-30?1:30>h.bodyElement().getBoundingClientRect().top?2:0;if(0!=n&&0==d)2==n?C||(C=setInterval(function(){f-=2;x.scrollTop-=2},5)):1==n&&(B||(B=setInterval(function(){h.edgeBottom<b.edgeBottom&&(f+=2,x.scrollTop+=2)},5)));else if(0==n||0!=d)clearInterval(B),clearInterval(C),B=C=!1;void 0!==a?(z=1==d&&a>=k?k:2==d&&a<=p?p:a,m=f):m=1==d?0:2==d?0:f;g=z+m-h.initialY;h.bodyElement().style.transform="translate(0px, "+g+"px)";a=e.indexOf(h);0<g&&a<e.length-1?(a=e[a+1],l(this,a)&&w(this,a,!0,h.newTranslateXPos,
g)):0>g&&0<a&&(a=e[a-1],c(h,a)&&w(this,a,!1,h.newTranslateXPos,g))}.bind(h),q=function(a){a=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;a!=g&&(f=a-g)}.bind(h),G=function(a){h.element.className=h.element.className.replace(" draggable-item--dragged","");h.element.className=h.element.className.replace(" draggable-item--hovered","");h.element.classList.remove("draggable-item--hovered");document.removeEventListener("mousemove",r);document.removeEventListener("mouseup",
G);document.removeEventListener("touchmove",r);document.removeEventListener("touchend",G);document.removeEventListener("scroll",q);document.removeEventListener("scroll",r);document.removeEventListener("touchstart",t);h.bodyElement().style.transform="translate(0, 0)";clearInterval(B);clearInterval(C);C=B=!1;var c=h.key,g=h.prevIndex,v=e.indexOf(h);g!==v&&u(b,"onChange",e,h,c,g,v,a);document.body.classList.remove("disable-select")}.bind(h);document.addEventListener("mousemove",r);document.addEventListener("mouseup",
G);document.addEventListener("touchmove",r,E?{passive:!1}:!1);document.addEventListener("touchend",G);document.addEventListener("scroll",q);document.addEventListener("scroll",r);document.addEventListener("touchstart",t,E?{passive:!1}:!1)};this.getState=function(){var a=[];e.forEach(function(b,h){a.push({key:b.key,content:b.bodyElement().querySelector(".draggable-item__content").innerHTML})});return a}}
function initGallery(b){function a(a){function g(a){A(a);var h=0,g=0;a.touches&&a.touches[0]?(h=a.touches[0].clientX,g=a.touches[0].clientY):(h=a.clientX,g=a.clientY);q=g-m.initialY;t=h-m.initialX;c.style.transform="translate("+t+"px, "+q+"px)";c.style.visibility="hidden";overlaped=document.elementFromPoint(h,g);overlapedItem=(overlapedItemId=(overlapedElement=k(overlaped,"gallery__item"))?overlapedElement.getAttribute("data-id"):!1)?e(overlapedItemId):null;c.style.visibility="";m&&overlapedItem&&
m.id!==overlapedItem.id&&(a=overlapedElement.getBoundingClientRect(),beforeElement="left"===(.5<(h-a.left)/((a.right-a.left)/2)?"right":"left")&&overlapedItem.element.nextSibling||overlapedItem.last?overlapedItem.element.nextSibling:overlapedItem.element,oldRect=m.element.getBoundingClientRect(),b.querySelector(".gallery__items-inner").insertBefore(m.element,beforeElement),newRect=m.element.getBoundingClientRect(),x(m.element,oldRect,newRect),r())}function v(a){A(a);document.removeEventListener("mousemove",
g);document.removeEventListener("mouseup",v);c&&(ghostNewX=d.offsetLeft-l.scrollLeft,ghostNewY=d.offsetTop,ghostShiftX=B-ghostNewX,ghostShiftY=w-ghostNewY,c.style.left=d.offsetLeft-l.scrollLeft+"px",c.style.top=d.offsetTop+"px",newnewX=t+ghostShiftX,newnewY=q+ghostShiftY,c.style.transform="translate("+newnewX+"px, "+newnewY+"px)",forRepaintDummy=c.offsetWidth,c.style.transition="all 200ms",c.style.transform="translate(0px, 0px)",setTimeout(function(){f(m.element,"gallery__item--hovered",!0);setTimeout(function(){f(m.element,
"gallery__item--hovered",!1)},210);f(m.element,"gallery__item--dragged",!1);m.element.querySelector(".gallery__item-inner").style.transform="translate(0, 0)";p();setTimeout(function(){c.parentElement.removeChild(c)},200)},200))}r();if(z)return!1;var l=k(a.target,"gallery__items-inner"),d=k(a.target,"gallery__item"),n=d?d.getAttribute("data-id"):"",m=e(n);a.touches&&a.touches[0]?(m.initialX=a.touches[0].clientX,m.initialY=a.touches[0].clientY):(m.initialX=a.clientX,m.initialY=a.clientY);c&&c.parentElement&&
c.parentElement.removeChild(c);c=m.element.cloneNode(!0);c.style.width=m.element.offsetWidth+"px";c.style.height=m.element.offsetHeight+"px";c.querySelector(".gallery__item-inner").style.width=m.element.offsetWidth+"px";c.querySelector(".gallery__item-inner").style.height=m.element.offsetHeight+"px";document.addEventListener("mousemove",g);document.addEventListener("mouseup",v);c.classList.add("gallery__item--ghost");c.style.left=m.element.offsetLeft-l.scrollLeft+"px";c.style.top=m.element.offsetTop+
"px";var B=m.element.offsetLeft-l.scrollLeft,w=m.element.offsetTop,q=0,t=0;b.querySelector(".gallery__items").appendChild(c);f(m.element,"gallery__item--dragged",!0);f(c,"gallery__item--ghost-dragged",!0)}function d(a){function g(){m=!0;w&&clearTimeout(w)}function v(){F.selected?d(F):m||l(F);m=!1;w&&clearTimeout(w);F.element.removeEventListener("touchmove",g);F.element.removeEventListener("touchend",v)}function l(a){a.selected=!0;f(a.element,"gallery__item--hovered",!0);f(a.element,"gallery__item--selected",
!0);clearInterval(q);clearInterval(u);u=q=!1;n(a)}function d(a){a.selected=!1;f(a.element,"gallery__item--hovered",!1);f(a.element,"gallery__item--selected",!1);f(a.element,"gallery__item--dragged",!1);c&&(c.parentElement.removeChild(c),c=null)}function n(a){function h(g){m=!0;A(g);g.touches&&g.touches[0]?(clientX=g.touches[0].clientX,clientY=g.touches[0].clientY):(clientX=g.clientX,clientY=g.clientY);0>c.getBoundingClientRect().left&&0<D.scrollLeft?q||(q=setInterval(function(){D.scrollLeft-=2},5)):
c.getBoundingClientRect().right>B?u||(u=setInterval(function(){D.scrollLeft+=2},5)):(clearInterval(q),clearInterval(u),u=q=!1);newTranslateXPos=clientX-a.initialX;newTranslateYPos=clientY-a.initialY;c.style.transform="translate("+Math.ceil(newTranslateXPos)+"px, "+Math.ceil(newTranslateYPos)+"px)";g=null;c.style.visibility="hidden";overlaped=document.elementFromPoint(clientX,clientY);g=(overlapedItemId=(overlapedElement=k(overlaped,"gallery__item"))?overlapedElement.getAttribute("data-id"):!1)?e(overlapedItemId):
null;c.style.visibility="";if(a&&g&&a.id!==g.id){var l=overlapedElement.getBoundingClientRect();beforeElement="left"===(.5<(clientX-l.left)/((l.right-l.left)/2)?"right":"left")&&g.element.nextSibling||g.last?g.element.nextSibling:g.element;oldRect=a.element.getBoundingClientRect();b.querySelector(".gallery__items-inner").insertBefore(a.element,beforeElement);newRect=a.element.getBoundingClientRect();x(a.element,oldRect,newRect);r()}}function w(b){A(b);if(!m)return d(a),!1;clearInterval(q);clearInterval(u);
u=q=!1;document.removeEventListener("touchmove",h);document.removeEventListener("touchend",w);ghostNewX=C.offsetLeft-D.scrollLeft;ghostNewY=C.offsetTop;ghostShiftX=a.ghostInitX-ghostNewX;ghostShiftY=a.ghostInitY-ghostNewY;c.style.left=C.offsetLeft-D.scrollLeft-2+"px";c.style.top=C.offsetTop-2+"px";newnewX=newTranslateXPos+ghostShiftX;newnewY=newTranslateYPos+ghostShiftY;c.style.transform="translate("+newnewX+"px, "+newnewY+"px)";forRepaintDummy=c.offsetWidth;c.style.transition="all 200ms";c.style.transform=
"translate(0px, 0px)";f(a.element,"gallery__item--dragged",!1);setTimeout(function(){a.element.removeEventListener("touchmove",g);a.element.removeEventListener("touchend",v);p();a.selected?d(a):m||l(a);m=!1},200)}if(c)return!1;c=a.element.cloneNode(!0);c.classList.add("gallery__item--ghost");f(a.element,"gallery__item--dragged",!0);a.ghostInitX=a.element.offsetLeft-D.scrollLeft;a.ghostInitY=a.element.offsetTop;c.style.width=a.element.offsetWidth+"px";c.style.height=a.element.offsetHeight+"px";c.style.left=
a.element.offsetLeft-D.scrollLeft+"px";c.style.top=a.element.offsetTop+"px";b.querySelector(".gallery__items").appendChild(c);c.style.transition="width 200ms, height 200ms, left 200ms, top 200ms, box-shadow 200ms";c.style.width=a.element.offsetWidth+4+"px";c.style.height=a.element.offsetHeight+4+"px";c.style.left=a.element.offsetLeft-D.scrollLeft-2+"px";c.style.top=a.element.offsetTop-2+"px";setTimeout(function(){c.style.transition=""},200);c.addEventListener("touchstart",function(b){b.touches&&b.touches[0]?
(a.initialX=b.touches[0].clientX,a.initialY=b.touches[0].clientY):(a.initialX=b.clientX,a.initialY=b.clientY)},t?{passive:!1}:!1);c.addEventListener("touchmove",h,t?{passive:!1}:!1);c.addEventListener("touchend",w,t?{passive:!1}:!1)}z=!0;var m=!1,B=window.innerWidth||document.documentElement.clientWidth,q=!1,u=!1,D=k(a.target,"gallery__items-inner"),C=k(a.target,"gallery__item"),H=C?C.getAttribute("data-id"):"",F=e(H);F.initialX=0;F.initialY=0;y.forEach(function(a,b){a.id!==H&&d(a)});F.element.addEventListener("touchmove",
g,t?{passive:!1}:!1);F.element.addEventListener("touchend",v,t?{passive:!1}:!1);document.addEventListener("touchstart",function(a){E(a.target,"gallery__item")||y.forEach(function(a,b){d(a)})},t?{passive:!1}:!1);r();w=setTimeout(function(){v()},400)}function r(){for(var a=document.querySelectorAll(".gallery__item--draggable:not(.gallery__item--hidden)"),b=0;b<a.length;b++){var c=a[b].getAttribute("data-id");if(!c)break;c=e(c);c.first=0===b;c.last=b===a.length-1}}function p(){y.forEach(function(a,b){a.main=
a.first});n()}function n(){y.forEach(function(a,b){f(a.element,"gallery__item--marked",a.main)})}function e(a){var b={};y.forEach(function(c,l){c.id===a&&(b=c)});return b}function x(a,b,c){a.style.transform="translate("+-(c.left-b.left)+"px, "+-(c.top-b.top)+"px)";a.style.transition="transform 200ms";a.style.transform="translate(0px, 0px)";setTimeout(function(){a.style.transition="";a.style.transform=""},200)}function f(a,b,c){c?a.classList.contains(b)||a.classList.add(b):a.classList.remove(b)}function k(a,
b){do{if(a&&a.classList&&a.classList.contains(b))return a;a=a.parentNode}while(a);return!1}function E(a,b){do if((a=a.parentNode)&&a.classList&&a.classList.contains(b))return!0;while(a);return!1}function A(a){a.preventDefault();a.stopPropagation()}if(!b)return!1;var y=[],l=[],c,q=!1,z=!1,w=!1,t=!1;try{var u=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,u);window.removeEventListener("testPassive",null,u)}catch(B){}window.addEventListener("resize",
function(){clearTimeout(q);q=setTimeout(function(){var a=window.innerWidth||document.documentElement.clientWidth,c=b.querySelector(".gallery.gallery--hide-items .gallery__items-inner");if(c){var l=c.offsetWidth,c=c.children,d=0;if(1024>a)for(a=0;a<c.length;a++)f(c[a],"gallery__item--hidden",!1);else for(a=0;a<c.length;a++)f(c[a],"gallery__item--hidden",!1),d=d+c[a].offsetWidth+8,d-8>l&&f(c[a],"gallery__item--hidden",!0)}if(a=b.querySelector(".gallery:not(.gallery--hide-items) .gallery__items-inner")){for(var l=
a.children,d=a.offsetWidth,p=0,k=0,a=a.children.length,c=!1,n=window.innerWidth||document.documentElement.clientWidth,e=0;e<l.length;e++)f(l[e],"gallery__item--hidden",!1);if(1024>n)for(e=0;e<l.length;e++)l[e].style.width="125px";else{for(e=0;e<l.length;e++)n=e+1,p=p+100+8,k=k+150+8,p<d&&k>d&&(c=n);if(c)for(d=Math.ceil(a/c),p=a%c,numberInRow=2>p&&0!==p?2<d?c-1:a-2:c,e=0;e<l.length;e++)l[e].style.width="calc( 100% / "+numberInRow+" - 8px)",1===Math.ceil(a/numberInRow)?l[e].style.maxWidth="125px":l[e].style.maxWidth=
"";else for(e=0;e<l.length;e++)l[e].style.width="125px"}}},250)});(function(){for(var c=b.querySelectorAll(".gallery__item--draggable:not(.gallery__item--hidden)"),g={},e=0;e<c.length;e++)g="image"+(l.length+1),l.push(g),g={id:g,selected:!1,main:0===y.length,element:c[e],first:0===e,last:e===c.length-1},c[e].setAttribute("data-id",g.id),c[e].addEventListener("mousedown",a),c[e].addEventListener("touchstart",d),y.push(g)})();n()}
(function(){var b=document.querySelectorAll("[type=range]");if(b)for(var a=b.length-1;0<=a;a--){var d=function(a){var b=a.parentNode.querySelector(".range__tooltip");if(b){var d=a.getAttribute("data-unit"),e=a.parentNode,x=e.querySelector(".range__limit--start").offsetWidth,f=e.querySelector(".range__limit--end").offsetWidth,k=a.getAttribute("max"),k=a.value/k*(e.offsetWidth-20);e.classList.toggle("range--limit-start",k>x);e.classList.toggle("range--limit-end",k<e.offsetWidth-f-24);b.innerHTML=a.value+
d;b.style.left=k+"px"}};b[a].style.setProperty("--min",+b[a].getAttribute("min"));b[a].style.setProperty("--max",+b[a].getAttribute("max"));b[a].parentNode.style.setProperty("--val",+b[a].getAttribute("val"));b[a].value=b[a].getAttribute("val");d(b[a]);b[a].addEventListener("input",function(){this.parentNode.style.setProperty("--val",+this.value);d(this)},!1)}})();
(function(){function b(a){return a.classList.contains("dropdown-list-item__header--checked")}function a(a){return a.classList.contains("dropdown-list-item__header--unchecked")}function d(a){b(a)||(a.classList="dropdown-list-item__header dropdown-list-item__header--checked dropdown-list-item__header--animated",setTimeout(function(){a.classList="dropdown-list-item__header dropdown-list-item__header--checked"},200))}function r(a){return(a=a.getElementsByClassName("dropdown-list-item__subitems")[0])?
a.querySelectorAll(".dropdown-list-item"):[]}function p(a){isActive=a.parentNode.classList.contains("field--opened");isActive||(e(),a.parentNode.classList.add("field--opened"),isActive=!0)}function n(a,b){A&&E&&y&&(""===b?(A.classList.add("hidden"),E.classList.remove("hidden")):(E.classList.add("hidden"),y.innerHTML='<a><b>Create category "'+b+'"</b></a>',A.classList.remove("hidden")));for(var e=0;e<a.length;e++){var d=a[e];if(0<r(d).length){n(r(d),b);var f;a:{f=r(d);for(var k=0;k<f.length;k++)if(!f[k].classList.contains("hidden")){f=
!0;break a}f=!1}f?d.classList.remove("hidden"):d.classList.add("hidden")}else(f=d.querySelectorAll(".dropdown-list-item__header"))&&0<f.length&&(f=f[0],f.classList.contains("dropdown-list-item__header--no-icon")||f.classList.contains("dropdown-list-item__header--add-new")||(f.innerHTML.includes(b)?d.classList.remove("hidden"):d.classList.add("hidden")))}}function e(){for(var a=0;a<k.length;a++){var b=k[a].parentNode;b.classList.contains("field--opened")&&b.classList.remove("field--opened");var d=
b.getElementsByClassName("dropdown-list-item");0<d.length&&(k[a].value="",b.classList.remove("field--filled"),n(d,""))}}var x=document.getElementsByClassName("dropdown-list-item__header");[].forEach.call(x,function(e){e.addEventListener("click",function(){a(e)||e.classList.contains("dropdown-list-item__header--indeterminate")?d(e):b(e)&&(a(e)||(e.classList="dropdown-list-item__header dropdown-list-item__header--unchecked"))})});for(var x=document.querySelectorAll(".fieldset--combo"),f=0;f<x.length;f++)x[f].addEventListener("click",
function(a){var b=this.getElementsByClassName("field__input")[0];p(b);a.stopPropagation()});for(var k=document.querySelectorAll(".fieldset--combo .field__input"),f=0;f<k.length;f++)k[f].addEventListener("click",function(a){p(this);a.stopPropagation()}),k[f].addEventListener("input",function(a){var b=this.parentNode.getElementsByClassName("dropdown-list-item");n(b,this.value);a.stopPropagation()});var E=document.getElementById("note-item"),A=document.getElementById("add-item"),y;A&&(x=A.getElementsByClassName("dropdown-list-item__header"))&&
0<x.length&&(y=x[0]);document.addEventListener("click",function(a){a.target.classList.contains("dropdown-list-item__header")||e()})})();
(function(){var b=[],a=function(a,b){function e(){u.classList.remove("has-success");u.classList.remove("has-error")}function d(){u.classList.remove("has-error");u.classList.contains("has-success")||u.classList.add("has-success")}function f(c){var d=a.querySelectorAll(".palette__item--selected");[].forEach.call(d,function(a){a.classList.remove("palette__item--selected")});c.classList.add("palette__item--selected");b=c.getAttribute("data-color");c=new CustomEvent("onChange",{bubbles:!0,cancelable:!0,
detail:{color:b}});a.dispatchEvent(c)}function k(){return a}function r(c){var d=!1;b=c;y&&([].forEach.call(y,function(a){a.value==c&&(f(a.el),d=!0)}),d||(w.setColor(c,!0),e(),f(a.querySelector(".color-picker__swatch")),setTimeout(function(){b=w.getColor().toRGBA().toString()},0)))}function A(){return b}a=a||null;b=b||"#FFFFFF";var y=[],l=!0,c;if(a){var q=a.querySelectorAll(".palette__item");if(q)for(var z=0;z<q.length;z++)q[z].style.backgroundColor=q[z].getAttribute("data-color"),q[z].addEventListener("click",
function(){f(this)}),c=q[z].getAttribute("data-color"),y[z]={el:q[z],value:c},c==b&&f(y[z].el);var w=new Pickr({el:a.querySelector(".color-picker__swatch"),position:"right",comparison:!1,default:b,useAsButton:!0,components:{preview:!1,opacity:!0,hue:!0},onChange:function(c,e){if(l){var g=a.querySelector(".field__input"),k=a.querySelector(".color-picker__swatch");c=w.getColor();g.value=c.toHEX().toString();g.dispatchEvent(new Event("change"));b=c.toRGBA().toString();k.setAttribute("data-color",b);
f(k);d()}}}),t=a.querySelector(".field__input"),u=t.parentNode.parentNode;t.value=b;t.dispatchEvent(new Event("change"));t.addEventListener("input",function(){l=!1;var b=w.setColor(t.value,!0);t.value?b?(f(a.querySelector(".color-picker__swatch")),d()):(u.classList.remove("has-success"),u.classList.contains("has-error")||u.classList.add("has-error")):(w.setColor("#00000000",!0),e());setTimeout(function(){l=!0},0)});t.addEventListener("focus",function(){var b=a.querySelector(".color-picker__swatch");
f(b);w.show()});c=document.querySelectorAll(".pcr-app .field__input");c=c[c.length-1];c.addEventListener("input",function(){this.value?this.parentNode.classList.add("field--filled"):this.parentNode.classList.remove("field--filled")});c.addEventListener("focus",function(){this.parentNode.classList.add("field--focus")});c.addEventListener("blur",function(){this.parentNode.classList.remove("field--focus")});(c=a.querySelector(".color-picker__custom--collapsed + .btn"))&&c.addEventListener("click",function(){var b=
a.querySelector(".color-picker__custom--collapsed");b&&(b.classList.remove("color-picker__custom--collapsed"),b=a.querySelector(".color-picker__swatch"),f(b),w.show())});this.getElem=k;this.setColor=r;this.getColor=A}},d=document.querySelectorAll(".color-picker");if(d)for(var r=0;r<d.length;r++)b.push(new a(d[r]));this.pickers=b})();